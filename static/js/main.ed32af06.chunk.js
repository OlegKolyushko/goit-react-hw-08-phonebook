(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{106:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(26),u=n.n(c),o=n(9),s=n(49),i=n(22),l=n(23),b=n(25),f=n(24),g=n(16),O=n(5),j=n(39),d=n(52),h=n.n(d);var m=function(t){var e=t.children;return a.a.createElement("section",{className:h.a.container},e)},p=[{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,118))})),privat:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,119))})),privat:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,120))})),privat:!0,restricted:!1}],E=n(11),C=n(29),v=Object(o.b)((function(t){return{isAuth:E.b.isAuth(t)}}))((function(t){var e=t.component,n=t.isAuth,r=Object(C.a)(t,["component","isAuth"]);return a.a.createElement(O.b,Object.assign({},r,{render:function(t){return n&&r.restricted?a.a.createElement(O.a,{to:"/contacts"}):a.a.createElement(e,t)}}))})),S=Object(o.b)((function(t){return{isAuth:E.b.isAuth(t)}}))((function(t){var e=t.component,n=t.isAuth,r=Object(C.a)(t,["component","isAuth"]);return a.a.createElement(O.b,Object.assign({},r,{render:function(t){return n?a.a.createElement(e,t):a.a.createElement(O.a,{to:"/login"})}}))})),k=n(36),_=n.n(k);var R=Object(o.b)((function(t){return{isAuth:E.b.isAuth(t)}}))((function(t){var e=t.isAuth;return a.a.createElement("nav",null,e&&a.a.createElement(g.b,{to:"/contacts",exact:!0,className:_.a.link,activeClassName:_.a.activeLink},"Contacts"))})),q=n(53),y=n.n(q),U=n(30),A=n.n(U);var N=Object(o.b)((function(t){return{name:E.b.getUserName(t)}}),{onLogout:E.a.logOut})((function(t){var e=t.name,n=t.onLogout;return a.a.createElement("div",{className:A.a.container},a.a.createElement("img",{src:y.a,alt:"",width:"32"}),a.a.createElement("span",{className:A.a.info},"Welcome, ",e),a.a.createElement("button",{className:A.a.button,type:"button",onClick:n},"Logout"))})),x=n(54),L=n.n(x),w=n(21),z=n.n(w);var F=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.b,{to:"/register",exact:!0,className:z.a.link,activeClassName:z.a.activeLink},"Register"),a.a.createElement(g.b,{to:"/login",exact:!0,className:z.a.link,activeClassName:z.a.activeLink},"Sign up"))};var M,W,D=Object(o.b)((function(t){return{isAuth:E.b.isAuth(t)}}))((function(t){var e=t.isAuth;return a.a.createElement("header",{className:L.a.header},a.a.createElement(R,null),e?a.a.createElement(N,null):a.a.createElement(F,null))})),B=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return a.a.createElement(g.a,null,a.a.createElement(m,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(j.a,null)},a.a.createElement(D,null),a.a.createElement(O.d,null,p.map((function(t){return t.privat?a.a.createElement(S,Object.assign({key:t.label},t)):a.a.createElement(v,Object.assign({key:t.label},t))}))))))}}]),n}(r.Component),I=Object(o.b)(null,{onGetCurrentUser:E.a.getCurrentUser})(B),G=n(2),J=n(17),P=n(55),K=n.n(P),X=n(1),Y=n(56),Z=n(6),H=n(8),Q=Object(G.c)([],(M={},Object(X.a)(M,H.a.fetchContactSuccess,(function(t,e){return e.payload})),Object(X.a)(M,H.a.addContactSuccess,(function(t,e){return[].concat(Object(Y.a)(t),[e.payload])})),Object(X.a)(M,H.a.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(X.a)(M,H.a.clearContact,(function(){return[]})),M)),T=Object(G.c)("",Object(X.a)({},H.a.filterContact,(function(t,e){return e.payload}))),V=Object(G.c)(!1,(W={},Object(X.a)(W,H.a.addContactRequest,(function(){return!0})),Object(X.a)(W,H.a.addContactSuccess,(function(){return!1})),Object(X.a)(W,H.a.addContactError,(function(){return!1})),Object(X.a)(W,H.a.fetchContactRequest,(function(){return!0})),Object(X.a)(W,H.a.fetchContactSuccess,(function(){return!1})),Object(X.a)(W,H.a.fetchContactError,(function(){return!1})),Object(X.a)(W,H.a.deleteContactRequest,(function(){return!0})),Object(X.a)(W,H.a.deleteContactSuccess,(function(){return!1})),Object(X.a)(W,H.a.deleteContactError,(function(){return!1})),W)),$=Object(Z.c)({items:Q,filter:T,loading:V}),tt=n(28),et={key:"auth",storage:K.a,whitelist:["token"]},nt=Object(G.a)({reducer:{contacts:$,auth:Object(J.g)(et,tt.a)},middleware:Object(G.d)({serializableCheck:{ignoredActions:[J.a,J.f,J.b,J.c,J.d,J.e]}})}),rt=Object(J.h)(nt);u.a.render(a.a.createElement(o.a,{store:nt},a.a.createElement(s.a,{loading:null,persistor:rt},a.a.createElement(I,null))),document.querySelector("#root"))},11:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return l}));var r=n(18),a=n.n(r),c=n(3),u=n(8);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(t){a.a.defaults.headers.common.Authorization="Bearer ".concat(t)},s=function(){a.a.defaults.headers.common.Authorization=""},i={register:function(t){return function(e){e(c.a.registerRequest()),a.a.post("/users/signup",t).then((function(t){o(t.data.token),e(c.a.registerSuccess(t.data))})).catch((function(t){return e(c.a.registerError(t))}))}},logOut:function(){return function(t){t(c.a.logoutRequest()),a.a.post("/users/logout").then((function(){s(),t(c.a.logoutSuccess()),t(u.a.clearContact())})).catch((function(e){return t(c.a.logoutError(e))}))}},logIn:function(t){return function(e){e(c.a.loginRequest()),a.a.post("/users/login",t).then((function(t){o(t.data.token),e(c.a.loginSuccess(t.data))})).catch((function(t){return e(c.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(c.a.getCurrentUserRequest()),a.a.get("/users/current").then((function(e){var n=e.data;return t(c.a.getCurrentUserSuccess(n))})).catch((function(t){return c.a.getCurrentUserError(t)})))}}},l={isAuth:function(t){return t.auth.token},getUserName:function(t){return t.auth.user.name}};n(28)},21:function(t,e,n){t.exports={link:"AuthNav_link__3EhvD",activeLink:"AuthNav_activeLink__1eSM2"}},28:function(t,e,n){"use strict";var r,a,c,u,o=n(1),s=n(6),i=n(2),l=n(3),b={name:null,email:null},f=Object(i.c)(b,(r={},Object(o.a)(r,l.a.registerSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,l.a.loginSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,l.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(o.a)(r,l.a.logoutSuccess,(function(){return b})),r)),g=Object(i.c)(null,(a={},Object(o.a)(a,l.a.registerSuccess,(function(t,e){return e.payload.token})),Object(o.a)(a,l.a.loginSuccess,(function(t,e){return e.payload.token})),Object(o.a)(a,l.a.logoutSuccess,(function(){return null})),a)),O=Object(i.c)(null,(c={},Object(o.a)(c,l.a.registerError,(function(t,e){return e.payload})),Object(o.a)(c,l.a.loginError,(function(t,e){return e.payload})),Object(o.a)(c,l.a.logoutError,(function(t,e){return e.payload})),Object(o.a)(c,l.a.getCurrentUserError,(function(t,e){return e.payload})),c)),j=Object(i.c)(!1,(u={},Object(o.a)(u,l.a.registerRequest,(function(){return!0})),Object(o.a)(u,l.a.registerSuccess,(function(){return!1})),Object(o.a)(u,l.a.registerError,(function(){return!1})),Object(o.a)(u,l.a.loginRequest,(function(){return!0})),Object(o.a)(u,l.a.loginSuccess,(function(){return!1})),Object(o.a)(u,l.a.loginError,(function(){return!1})),Object(o.a)(u,l.a.logoutRequest,(function(){return!0})),Object(o.a)(u,l.a.logoutSuccess,(function(){return!1})),Object(o.a)(u,l.a.logoutError,(function(){return!1})),Object(o.a)(u,l.a.getCurrentUserRequest,(function(){return!0})),Object(o.a)(u,l.a.getCurrentUserSuccess,(function(){return!1})),Object(o.a)(u,l.a.getCurrentUserError,(function(){return!1})),u));e.a=Object(s.c)({user:f,token:g,error:O,loading:j})},3:function(t,e,n){"use strict";var r=n(2),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),f=Object(r.b)("auth/logoutError"),g=Object(r.b)("auth/getCurrentUserRequest"),O=Object(r.b)("auth/getCurrentUserSuccess"),j=Object(r.b)("auth/getCurrentUserError");e.a={registerRequest:a,registerSuccess:c,registerError:u,loginRequest:o,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:f,getCurrentUserRequest:g,getCurrentUserSuccess:O,getCurrentUserError:j}},30:function(t,e,n){t.exports={container:"UserMenu_container__3sYWI",info:"UserMenu_info__Xqw9p",button:"UserMenu_button__1W0an"}},36:function(t,e,n){t.exports={link:"Navigation_link__2w0WD",activeLink:"Navigation_activeLink__2iKz6"}},39:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(22),a=n(23),c=n(25),u=n(24),o=n(0),s=n.n(o),i=n(50),l=n.n(i),b=(n(85),n(51)),f=n.n(b),g=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.a.createElement(l.a,{type:"Plane",color:"#00BFFF",height:100,width:100,timeout:3e3,className:f.a.Spinner})}}]),n}(o.Component)},51:function(t,e,n){t.exports={Spinner:"Loader_Spinner__1WR8D"}},52:function(t,e,n){t.exports={container:"Layout_container__3qmz5"}},53:function(t,e,n){t.exports=n.p+"static/media/user.ff3d7423.png"},54:function(t,e,n){t.exports={header:"AppBar_header__1FZIc"}},57:function(t,e,n){t.exports=n(106)},8:function(t,e,n){"use strict";var r=n(2),a=Object(r.b)("contacts/addRequest"),c=Object(r.b)("contacts/addSuccess"),u=Object(r.b)("contacts/addError"),o=Object(r.b)("contacts/fetchRequest"),s=Object(r.b)("contacts/fetchSuccess"),i=Object(r.b)("contacts/fetchError"),l=Object(r.b)("contacts/deleteRequest"),b=Object(r.b)("contacts/deleteSuccess"),f=Object(r.b)("contacts/deleteError"),g=Object(r.b)("contact/clearContact"),O=Object(r.b)("contact/filterContact");e.a={filterContact:O,addContactRequest:a,addContactSuccess:c,addContactError:u,fetchContactRequest:o,fetchContactSuccess:s,fetchContactError:i,deleteContactRequest:l,deleteContactSuccess:b,deleteContactError:f,clearContact:g}}},[[57,1,2]]]);
//# sourceMappingURL=main.ed32af06.chunk.js.map